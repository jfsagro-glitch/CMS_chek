# üöÄ –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π Backend –Ω–∞ Railway

## ‚úÖ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!

–í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –¥–µ–ø–ª–æ—è —É–∂–µ —Å–æ–∑–¥–∞–Ω—ã –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ GitHub:
- ‚úÖ `railway.json` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Railway
- ‚úÖ `Procfile` - –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞
- ‚úÖ Health check endpoint (`/health`)
- ‚úÖ –£–ø—Ä–æ—â–µ–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã (—Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –ë–î)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- ‚úÖ –î–µ–º–æ-–±–∞–Ω–Ω–µ—Ä –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤—Ö–æ–¥–∞

## üìã –®–∞–≥–∏ –¥–ª—è –¥–µ–ø–ª–æ—è (5 –º–∏–Ω—É—Ç)

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ Railway
–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞: **https://railway.app/**

### 2. –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ GitHub
–ù–∞–∂–º–∏—Ç–µ **"Login with GitHub"**

### 3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
1. –ù–∞–∂–º–∏—Ç–µ **"New Project"**
2. –í—ã–±–µ—Ä–∏—Ç–µ **"Deploy from GitHub repo"**
3. –ù–∞–π–¥–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: **jfsagro-glitch/CMS_chek**
4. –ù–∞–∂–º–∏—Ç–µ **"Deploy Now"**

### 4. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **"Variables"** –∏ –¥–æ–±–∞–≤—å—Ç–µ:

```
NODE_ENV=production
PORT=5000
JWT_SECRET=cms_check_super_secret_key_2024_min_32_chars
CLIENT_URL=https://jfsagro-glitch.github.io/CMS_chek
```

**–í–∞–∂–Ω–æ**: –ó–∞–º–µ–Ω–∏—Ç–µ `JWT_SECRET` –Ω–∞ —Å–≤–æ–π —Å–ª—É—á–∞–π–Ω—ã–π –∫–ª—é—á (–º–∏–Ω–∏–º—É–º 32 —Å–∏–º–≤–æ–ª–∞)!

### 5. –î–æ–∂–¥–∏—Ç–µ—Å—å –¥–µ–ø–ª–æ—è
- Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –ó–∞–ø—É—Å—Ç–∏—Ç —Å–µ—Ä–≤–µ—Ä
- –í—ã–¥–∞—Å—Ç –ø—É–±–ª–∏—á–Ω—ã–π URL

### 6. –ü–æ–ª—É—á–∏—Ç–µ URL backend
–í —Ä–∞–∑–¥–µ–ª–µ **"Settings"** ‚Üí **"Domains"** —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ URL –≤–∏–¥–∞:
```
https://cms-check-production.railway.app
```

### 7. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É
–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
https://your-app.railway.app/health
```

–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```json
{
  "status": "ok",
  "message": "CMS Check Backend is running",
  "timestamp": "2024-..."
}
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Frontend

### –í–∞—Ä–∏–∞–Ω—Ç 1: –°–æ–∑–¥–∞—Ç—å .env.production (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `client/.env.production`:
```
REACT_APP_API_URL=https://your-app.railway.app/api
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞–ø—Ä—è–º—É—é

–í —Ñ–∞–π–ª–µ `client/src/services/api.ts` –∑–∞–º–µ–Ω–∏—Ç–µ:
```typescript
const API_BASE_URL = process.env.REACT_APP_API_URL || 'https://your-app.railway.app/api';
```

### –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–¥–µ–ø–ª–æ–π—Ç–µ:

```bash
cd client
npm run build
cd ..
Remove-Item -Recurse -Force docs
xcopy client\build docs\ /E /I /Y
git add .
git commit -m "Connect frontend to Railway backend"
git push origin main
```

–ü–æ–¥–æ–∂–¥–∏—Ç–µ 1-2 –º–∏–Ω—É—Ç—ã –ø–æ–∫–∞ GitHub Pages –æ–±–Ω–æ–≤–∏—Ç—Å—è.

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ:
- ‚úÖ Frontend: https://jfsagro-glitch.github.io/CMS_chek/
- ‚úÖ Backend: https://your-app.railway.app
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ API –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ –î–µ–º–æ-–¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã

## üîê –¢–µ—Å—Ç–æ–≤—ã–π –¥–æ—Å—Ç—É–ø

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
- **Email**: `admin@cms.local`
- **–ü–∞—Ä–æ–ª—å**: `password`

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–í Railway Dashboard –≤—ã –º–æ–∂–µ—Ç–µ:
- –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –ª–æ–≥–∏
- –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ–ø–ª–æ–∏
- –î–æ–±–∞–≤–∏—Ç—å PostgreSQL (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å

Railway –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç **$5 –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –∫—Ä–µ–¥–∏—Ç–æ–≤** –∫–∞–∂–¥—ã–π –º–µ—Å—è—Ü.
–≠—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –Ω–µ–±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.

## üìö –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

–°–º. —Ñ–∞–π–ª `RAILWAY_DEPLOY_GUIDE.md` –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

## ‚ùì –ü—Ä–æ–±–ª–µ–º—ã?

### Backend –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Railway Dashboard
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–æ–±–∞–≤–ª–µ–Ω—ã

### Frontend –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ backend
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CORS: CLIENT_URL –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å URL GitHub Pages
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ API_URL –≤ –∫–ª–∏–µ–Ω—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

### –û—à–∏–±–∫–∞ 401 –ø—Ä–∏ –≤—Ö–æ–¥–µ
- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ! –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ: `admin@cms.local` / `password`

---

**Backend –≥–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é! –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤—ã—à–µ.** üöÄ

